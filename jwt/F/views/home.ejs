<h1>Welcome to Home</h1>
<p>Your token: <%= token %></p>

<button id="logoutBtn">Logout</button>

<script>
document.getElementById('logoutBtn').addEventListener('click', async () => {
  const token = '<%= token %>';
  try {
    const response = await fetch('/api/user/logout', {
      method: 'GET',
      headers: {
        'Authorization': `Bearer ${token}`
      }
    });
    const data = await response.json();
    alert(data.message);
    // Redirect to login or handle logout
    window.location.href = '/api/user/login';
  } catch (error) {
    console.error('Logout failed:', error);
  }
});
</script>
